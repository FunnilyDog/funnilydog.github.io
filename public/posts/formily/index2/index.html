<!DOCTYPE html>
<html lang="zh-CN" dir="ltr" class="scroll-smooth" data-default-appearance="dark"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="zh-CN" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>Formily 使用及源码简介 &middot; FunnilyDog‘s Site</title>
  <meta name="title" content="Formily 使用及源码简介 &middot; FunnilyDog‘s Site" />
  
  <meta name="description" content="本文主要从`formily`简介、快速上手、生态、使用场景以及源码等方面介绍formily" />
  <meta name="keywords" content="formily, " />
  
  
  <link rel="canonical" href="http://localhost:1313/posts/formily/index2/" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.1c9cd0d1ebaf117272b5c4f6bd49878475cb210d5e0da4f061632d779f5bb46851881c187e6e634dba5071c4e3d80e7d5cec1dd80443b2fa68acd358f9eda881.css"
    integrity="sha512-HJzQ0euvEXJytcT2vUmHhHXLIQ1eDaTwYWMtd59btGhRiBwYfm5jTbpQccTj2A59XOwd2ARDsvporNNY&#43;e2ogQ==" />
  <link
    type="text/css"
    rel="stylesheet"
    href="https://unpkg.com/@waline/client@v3/dist/waline.css"
  />
  
  
  <script type="text/javascript" src="/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js"
    integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj&#43;e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script>
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.38829a2d46667b3048ed12a339f7a49584d39596241b4e61e344c689c257fec016f6e18ea8a349c0a7e2b35a3ef0ab2aed556a64100ada730fc9666da5b7c29a.js"
    integrity="sha512-OIKaLUZmezBI7RKjOfeklYTTlZYkG05h40TGicJX/sAW9uGOqKNJwKfis1o&#43;8Ksq7VVqZBAK2nMPyWZtpbfCmg==" data-copy="" data-copied=""></script>
  
  
  
  <script src="/lib/zoom/zoom.min.37d2094687372da3f7343a221a470f6b8806f7891aa46a5a03966af7f0ebd38b9fe536cb154e6ad28f006d184b294525a7c4054b6bbb4be62d8b453b42db99bd.js" integrity="sha512-N9IJRoc3LaP3NDoiGkcPa4gG94kapGpaA5Zq9/Dr04uf5TbLFU5q0o8AbRhLKUUlp8QFS2u7S&#43;Yti0U7QtuZvQ=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/posts/formily/index2/">
  <meta property="og:site_name" content="FunnilyDog‘s Site">
  <meta property="og:title" content="Formily 使用及源码简介">
  <meta property="og:description" content="本文主要从formily简介、快速上手、生态、使用场景以及源码等方面介绍formily">
  <meta property="og:locale" content="zh_CN">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2025-01-13T13:55:00+08:00">
    <meta property="article:modified_time" content="2025-01-13T13:55:00+08:00">
    <meta property="article:tag" content="Formily">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Formily 使用及源码简介">
  <meta name="twitter:description" content="本文主要从formily简介、快速上手、生态、使用场景以及源码等方面介绍formily">

  
  <script type="application/ld+json">
  [{
    "@context": "https://schema.org",
    "@type": "Article",
    "articleSection": "Posts",
    "name": "Formily 使用及源码简介",
    "headline": "Formily 使用及源码简介",
    
    "abstract": "本文主要从\u003ccode\u003eformily\u003c\/code\u003e简介、快速上手、生态、使用场景以及源码等方面介绍formily",
    "inLanguage": "zh-CN",
    "url" : "http:\/\/localhost:1313\/posts\/formily\/index2\/",
    "author" : {
      "@type": "Person",
      "name": "FunnilyDog‘s Site"
    },
    "copyrightYear": "2025",
    "dateCreated": "2025-01-13T13:55:00\u002b08:00",
    "datePublished": "2025-01-13T13:55:00\u002b08:00",
    
    "dateModified": "2025-01-13T13:55:00\u002b08:00",
    
    "keywords": ["formily"],
    
    "mainEntityOfPage": "true",
    "wordCount": "554"
  }]
  </script>


  
  
  <meta name="author" content="FunnilyDog‘s Site" />
  
  
  

<script src="/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js" integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj&#43;KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script>






















  
  



  
  
  <meta name="theme-color"/>
  
  
  
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyDw86JLtP-SQbIrjHrPXmXkSo7b0OQmd4c",
      authDomain: "AIzaSyDw86JLtP-SQbIrjHrPXmXkSo7b0OQmd4c",
      projectId: "dx-firebase-17aba",
      storageBucket: "dx-firebase-17aba.firebasestorage.app",
      messagingSenderId: "733298373600",
      appId: "1:733298373600:web:1d4af16416c27be12ef185",
      measurementId: "G-2TYX8E9FTZ"
    };

    var app = firebase.initializeApp(firebaseConfig);
    var db = firebase.firestore();
    var auth = firebase.auth();

  </script>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>跳过正文</a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3">
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">FunnilyDog‘s Site</a>
            

        </nav>
        <nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12">

            
            
            
  <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Posts">
        Blog
    </p>
</a>



            
            
  <a href="/react/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Reacts">
        react 阅读笔记
    </p>
</a>



            
            
  <a href="/notes/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="Notes">
        面筋
    </p>
</a>



            
            

            


            


            
            
            <div class=" flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button"
                    class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12">

            <span></span>

            


            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button"
                class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 md:hidden">

        <label id="menu-button" class="block">
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li id="menu-close-button">
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Posts">
            Blog
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/react/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Reacts">
            react 阅读笔记
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/notes/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="Notes">
            面筋
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>




  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


<article>
  
  
  
  
  
  
 
  
   
  
 



<div id="hero" class="h-[150px] md:h-[200px]"></div>



    
    <div class="fixed inset-x-0 top-0 h-[800px] single_hero_background nozoom"
    style="background-image:url(/imgs/web_bg_hu3121495979313281154.webp);">
    


    <div class="absolute inset-0 bg-gradient-to-t from-neutral dark:from-neutral-800 to-transparent mix-blend-normal">
    </div>
    <div
        class="absolute inset-0 opacity-60 bg-gradient-to-t from-neutral dark:from-neutral-800 to-neutral-100 dark:to-neutral-800 mix-blend-normal">
    </div>
</div>

<div id="background-blur" class="fixed opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl"></div>
<script>
    window.addEventListener('scroll', function (e) {
        var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
        var background_blur = document.getElementById('background-blur');
        background_blur.style.opacity = (scroll / 300)
    });
</script>

  
  

  <header id="single_header" class="mt-5 max-w-prose">
    
    <h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">
      Formily 使用及源码简介
    </h1>
    <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
      





  
  







  





  



  



  



  



  







<div class="flex flex-row flex-wrap items-center">
  
  
  <time datetime="2025-01-13T13:55:00&#43;08:00">2025-01-13</time><span class="px-2 text-primary-500">&middot;</span><span>554 字</span><span class="px-2 text-primary-500">&middot;</span><span title="预计阅读">3 分钟</span><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span id="views_posts/formily/index2.md" class="animate-pulse inline-block text-transparent max-h-3 rounded-full mt-[-2px] align-middle bg-neutral-300 dark:bg-neutral-400" title="views">loading</span>
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
<path fill="currentColor" d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg>
  </span>

</span>
</span><span class="px-2 text-primary-500">&middot;</span><span>
  
  
    
    
      
      
        
        
      
      
    
  
  <span id="likes_posts/formily/index2.md"
    class="animate-pulse inline-block text-transparent max-h-3 rounded-full mt-[-2px] align-middle bg-neutral-300 dark:bg-neutral-400"
    title="likes">loading</span>
  <span class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
  </span>

</span>
</span><span class="px-2 text-primary-500">&middot;</span><span>
    <button id="button_likes"
        class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400"
        onclick="process_article()">
        <span id="button_likes_heart" style="display:none" class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"/></svg>
  </span>

 </span>
        <span id="button_likes_emtpty_heart" class="inline-block align-text-bottom">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
<path fill="currentColor" d="M244 84L255.1 96L267.1 84.02C300.6 51.37 347 36.51 392.6 44.1C461.5 55.58 512 115.2 512 185.1V190.9C512 232.4 494.8 272.1 464.4 300.4L283.7 469.1C276.2 476.1 266.3 480 256 480C245.7 480 235.8 476.1 228.3 469.1L47.59 300.4C17.23 272.1 0 232.4 0 190.9V185.1C0 115.2 50.52 55.58 119.4 44.1C164.1 36.51 211.4 51.37 244 84C243.1 84 244 84.01 244 84L244 84zM255.1 163.9L210.1 117.1C188.4 96.28 157.6 86.4 127.3 91.44C81.55 99.07 48 138.7 48 185.1V190.9C48 219.1 59.71 246.1 80.34 265.3L256 429.3L431.7 265.3C452.3 246.1 464 219.1 464 190.9V185.1C464 138.7 430.4 99.07 384.7 91.44C354.4 86.4 323.6 96.28 301.9 117.1L255.1 163.9z"/></svg>
  </span>

</span>
        <span id="button_likes_text">&nbsp;Like</span>
    </button>
</span>
  

  
  
</div>





<div class="flex flex-row flex-wrap items-center">
  
  
  
  
  
  
  
  
  
  
  
  
  <span style="margin-top:0.5rem" class="mr-2" onclick="window.open(&#34;/tags/formily/&#34;,'_self');return false;">
    <span class="flex" style="cursor: pointer;">
  <span class="rounded-md border border-primary-400 px-1 py-[1px] text-xs font-normal text-primary-700 dark:border-primary-600 dark:text-primary-400">
    Formily
  </span>
</span>
  </span>
  
  
  
  
</div>




    </div>

    
    
    
    
    

    

    
      
      

      

      

    

  </header>
  <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
    
     <div
      class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
      <div class="toc ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]">

         <details open id="TOCView"
  class="toc-right mt-0 overflow-y-scroll overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
  <summary
    class="block py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="min-w-[220px] py-2 border-dotted ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#前言">前言</a>
      <ul>
        <li><a href="#formily-是什么">formily 是什么</a></li>
        <li><a href="#应用场景">应用场景</a></li>
      </ul>
    </li>
    <li><a href="#快速开始">快速开始</a>
      <ul>
        <li><a href="#安装依赖包">安装依赖包</a></li>
        <li><a href="#构建-form">构建 Form</a></li>
        <li><a href="#表单联动">表单联动</a></li>
        <li><a href="#三动态表单生成">（三）动态表单生成</a></li>
      </ul>
    </li>
    <li><a href="#五解读-formily-的-schema-形式">五、解读 Formily 的 Schema 形式</a>
      <ul>
        <li><a href="#一json-schema-规范">（一）JSON Schema 规范</a></li>
        <li><a href="#二schema-关键属性">（二）Schema 关键属性</a></li>
        <li><a href="#三示例解析">（三）示例解析</a></li>
      </ul>
    </li>
    <li><a href="#六剖析-formily-源码">六、剖析 Formily 源码</a>
      <ul>
        <li><a href="#一核心模块介绍">（一）核心模块介绍</a></li>
        <li><a href="#二响应式原理">（二）响应式原理</a></li>
        <li><a href="#三表单渲染流程">（三）表单渲染流程</a></li>
      </ul>
    </li>
    <li><a href="#七总结与展望">七、总结与展望</a></li>
  </ul>
</nav>
  </div>
</details>
<details class="toc-inside mt-0 overflow-hidden rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 lg:hidden">
  <summary
    class="py-1 text-lg font-semibold cursor-pointer bg-neutral-100 text-neutral-800 ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 dark:bg-neutral-700 dark:text-neutral-100 lg:hidden">
    目录
  </summary>
  <div
    class="py-2 border-dotted border-neutral-300 ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#前言">前言</a>
      <ul>
        <li><a href="#formily-是什么">formily 是什么</a></li>
        <li><a href="#应用场景">应用场景</a></li>
      </ul>
    </li>
    <li><a href="#快速开始">快速开始</a>
      <ul>
        <li><a href="#安装依赖包">安装依赖包</a></li>
        <li><a href="#构建-form">构建 Form</a></li>
        <li><a href="#表单联动">表单联动</a></li>
        <li><a href="#三动态表单生成">（三）动态表单生成</a></li>
      </ul>
    </li>
    <li><a href="#五解读-formily-的-schema-形式">五、解读 Formily 的 Schema 形式</a>
      <ul>
        <li><a href="#一json-schema-规范">（一）JSON Schema 规范</a></li>
        <li><a href="#二schema-关键属性">（二）Schema 关键属性</a></li>
        <li><a href="#三示例解析">（三）示例解析</a></li>
      </ul>
    </li>
    <li><a href="#六剖析-formily-源码">六、剖析 Formily 源码</a>
      <ul>
        <li><a href="#一核心模块介绍">（一）核心模块介绍</a></li>
        <li><a href="#二响应式原理">（二）响应式原理</a></li>
        <li><a href="#三表单渲染流程">（三）表单渲染流程</a></li>
      </ul>
    </li>
    <li><a href="#七总结与展望">七、总结与展望</a></li>
  </ul>
</nav>
  </div>
</details>

<script>

  var margin = 200;
  var marginError = 50;

  (function () {
    var $window = $(window);
    var $toc = $('#TOCView');
    var tocHeight = $toc.height();

    function onResize() {
      var windowAndMarginHeight = $window.height() - margin;
      if(tocHeight >= windowAndMarginHeight) {
        $toc.css("overflow-y", "scroll")
        $toc.css("max-height", (windowAndMarginHeight + marginError) + "px")
      } else {
        $toc.css("overflow-y", "hidden")
        $toc.css("max-height", "9999999px")
      }
    }

    $window.on('resize', onResize);
    $(document).ready(onResize);
  })();



</script>
   </div>
      </div>
      

      <div class="min-w-0 min-h-0 max-w-fit">
        
        


        <div class="article-content max-w-prose mb-20">
          

<h2 class="relative group">前言 
    <div id="%E5%89%8D%E8%A8%80" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%89%8D%E8%A8%80" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">formily 是什么 
    <div id="formily-%E6%98%AF%E4%BB%80%E4%B9%88" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#formily-%E6%98%AF%E4%BB%80%E4%B9%88" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>Formily 是一款专注于解决中台表单场景的 JavaScript 库。它能够高效地处理各种复杂的表单业务逻辑，无论是简单的数据录入表单，还是涉及到大量字段关联、动态生成和复杂验证的表单，Formily 都能轻松驾驭。其次，Formily 在性能方面表现出色，通过优化的算法和数据结构，确保表单在各种操作下都能保持流畅的响应速度，为用户提供良好的交互体验。</p>


<h3 class="relative group">应用场景 
    <div id="%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>Formily 在实际项目中有着广泛的应用场景。在数据中台领域，常常需要处理大量的数据录入和编辑表单，Formily 能够帮助开发者快速搭建稳定可靠的表单系统，确保数据的准确录入和高效处理。在电商后台的商品管理表单中，涉及到商品的各种属性填写、图片上传、价格设置等复杂操作，Formily 可以简化这些操作流程，提高管理效率。此外，在企业内部的办公系统中，如员工信息管理表单、请假审批表单等，Formily 也能发挥其优势，使表单的创建和使用更加便捷。</p>


<h2 class="relative group">快速开始 
    <div id="%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">安装依赖包 
    <div id="%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E5%8C%85" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>要在 React 项目中使用 Formily，首先需要安装相关的依赖包。我们可以使用 npm 或 yarn 来进行安装。</p>
<p>使用 npm 安装：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">pnpm install @formily/core @formily/react @formily/antd-v5 antd-v5
</span></span></code></pre></div><p><code>@formily/core</code>是 Formily 的核心库，提供了表单的核心功能和数据管理；
<code>@formily/react</code>是 Formily 与 React 框架的集成库，方便在 React 项目中使用 Formily；
<code>@formily/antd</code>则是 Formily 与 Ant Design 的集成库，借助 Ant Design 丰富的组件库，我们可以快速搭建出美观且功能强大的表单。</p>


<h3 class="relative group">构建 Form 
    <div id="%E6%9E%84%E5%BB%BA-form" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%9E%84%E5%BB%BA-form" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>安装完成后，我们就可以在 React 项目中搭建 Formily 的基本结构了。以下是一个简单的示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">createForm</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/core&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">FormProvider</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">FormItem</span><span class="p">,</span> <span class="nx">Input</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/antd-v5&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Button</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;antd&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 创建表单实例
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="nx">createForm</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">FormProvider</span> <span class="nx">form</span><span class="o">=</span><span class="p">{</span><span class="nx">form</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">FormItem</span> <span class="nx">label</span><span class="o">=</span><span class="s2">&#34;用户名&#34;</span> <span class="nx">labelCol</span><span class="o">=</span><span class="p">{</span><span class="mi">6</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">width</span><span class="o">:</span> <span class="s2">&#34;240px&#34;</span> <span class="p">}}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;username&#34;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&#34;请输入用户名&#34;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/FormItem&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">FormItem</span> <span class="nx">label</span><span class="o">=</span><span class="s2">&#34;密码&#34;</span> <span class="nx">labelCol</span><span class="o">=</span><span class="p">{</span><span class="mi">6</span><span class="p">}</span> <span class="nx">style</span><span class="o">=</span><span class="p">{{</span> <span class="nx">width</span><span class="o">:</span> <span class="s2">&#34;240px&#34;</span> <span class="p">}}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Input</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;password&#34;</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;password&#34;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&#34;请输入密码&#34;</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/FormItem&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;primary&#34;</span> <span class="nx">htmlType</span><span class="o">=</span><span class="s2">&#34;submit&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nx">提交</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/Button&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/FormProvider&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><!-- ![Alt text](/imgs/formily_init.png "参考图") -->
<div style="text-align:center">示例图</div>
<img src="./formily_init.png" alt="示例图" width="300" height="200" style="margin:auto" >
<p><code>createForm</code> 创建了一个表单实例</br>
<code>FormProvider</code> 将表单实例注入到组件树中</p>


<h3 class="relative group">表单联动 
    <div id="%E8%A1%A8%E5%8D%95%E8%81%94%E5%8A%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%A1%A8%E5%8D%95%E8%81%94%E5%8A%A8" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>表单联动是指表单中一个字段的变化会影响其他字段的显示或状态。下面以一个性别选择联动的示例来讲解。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">FormProvider</span><span class="p">,</span> <span class="nx">createForm</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Select</span><span class="p">,</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/antd&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="p">{</span> <span class="nx">Option</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">Select</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="nx">createForm</span><span class="p">();</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">GenderForm</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">onSubmit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">values</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;提交的数据:&#34;</span><span class="p">,</span> <span class="nx">values</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">FormProvider</span> <span class="nx">form</span><span class="o">=</span><span class="p">{</span><span class="nx">form</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Select</span> <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;gender&#34;</span> <span class="nx">placeholder</span><span class="o">=</span><span class="s2">&#34;请选择性别&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">Option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&#34;male&#34;</span><span class="o">&gt;</span><span class="nx">男</span><span class="o">&lt;</span><span class="err">/Option&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">Option</span> <span class="nx">value</span><span class="o">=</span><span class="s2">&#34;female&#34;</span><span class="o">&gt;</span><span class="nx">女</span><span class="o">&lt;</span><span class="err">/Option&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Select&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Input</span>
</span></span><span class="line"><span class="cl">          <span class="nx">name</span><span class="o">=</span><span class="s2">&#34;hint&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">placeholder</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">form</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">gender</span> <span class="o">===</span> <span class="s2">&#34;male&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="o">?</span> <span class="s2">&#34;男士请输入您的爱好&#34;</span>
</span></span><span class="line"><span class="cl">              <span class="o">:</span> <span class="s2">&#34;女士请输入您的爱好&#34;</span>
</span></span><span class="line"><span class="cl">          <span class="p">}</span>
</span></span><span class="line"><span class="cl">          <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">form</span><span class="p">.</span><span class="nx">values</span><span class="p">.</span><span class="nx">gender</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;primary&#34;</span> <span class="nx">htmlType</span><span class="o">=</span><span class="s2">&#34;submit&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">提交</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Button&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/form&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/FormProvider&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>在这个示例中，我们创建了一个性别选择的<code>Select</code>组件和一个用于输入爱好的<code>Input</code>组件。<code>Input</code>组件的<code>placeholder</code>属性会根据用户选择的性别动态变化，并且当用户未选择性别时，<code>Input</code>组件会被禁用。通过<code>form.values.gender</code>我们可以获取到当前选择的性别值，从而实现表单联动效果。</p>


<h3 class="relative group">（三）动态表单生成 
    <div id="%E4%B8%89%E5%8A%A8%E6%80%81%E8%A1%A8%E5%8D%95%E7%94%9F%E6%88%90" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%89%E5%8A%A8%E6%80%81%E8%A1%A8%E5%8D%95%E7%94%9F%E6%88%90" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>动态表单生成是指根据用户的操作或后端返回的数据，动态地添加或删除表单字段。以下是一个简单的动态添加输入框的示例。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s2">&#34;react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">ReactDOM</span> <span class="nx">from</span> <span class="s2">&#34;react-dom&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">FormProvider</span><span class="p">,</span> <span class="nx">createForm</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/react&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Input</span><span class="p">,</span> <span class="nx">Button</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&#34;@formily/antd&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">form</span> <span class="o">=</span> <span class="nx">createForm</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">DynamicForm</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">addField</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">const</span> <span class="nx">newFieldName</span> <span class="o">=</span> <span class="sb">`field</span><span class="si">${</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">form</span><span class="p">.</span><span class="nx">appendField</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">      <span class="nx">name</span><span class="o">:</span> <span class="nx">newFieldName</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">      <span class="nx">component</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">Input</span> <span class="nx">placeholder</span><span class="o">=</span><span class="p">{</span><span class="sb">`请输入新字段内容`</span><span class="p">}</span> <span class="o">/&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">});</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">onSubmit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">values</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;提交的数据:&#34;</span><span class="p">,</span> <span class="nx">values</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">  <span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="nx">FormProvider</span> <span class="nx">form</span><span class="o">=</span><span class="p">{</span><span class="nx">form</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="nx">form</span> <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{</span><span class="nx">form</span><span class="p">.</span><span class="nx">submit</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span><span class="nx">form</span><span class="p">.</span><span class="nx">fields</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">field</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">field</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">field</span><span class="p">.</span><span class="nx">component</span><span class="p">}</span><span class="o">&lt;</span><span class="err">/div&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="p">))}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;primary&#34;</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">addField</span><span class="p">}</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">添加字段</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Button&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&#34;primary&#34;</span> <span class="nx">htmlType</span><span class="o">=</span><span class="s2">&#34;submit&#34;</span><span class="o">&gt;</span>
</span></span><span class="line"><span class="cl">          <span class="nx">提交</span>
</span></span><span class="line"><span class="cl">        <span class="o">&lt;</span><span class="err">/Button&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="o">&lt;</span><span class="err">/form&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="o">&lt;</span><span class="err">/FormProvider&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">DynamicForm</span> <span class="o">/&gt;</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&#34;root&#34;</span><span class="p">));</span>
</span></span></code></pre></div><p>在这个示例中，我们定义了一个<code>addField</code>函数，当用户点击 “添加字段” 按钮时，会调用这个函数。在函数中，我们生成一个新的字段名，然后使用<code>form.appendField</code>方法向表单中添加一个新的字段，新字段包含一个<code>Input</code>组件。通过<code>form.fields.map</code>我们可以遍历表单中的所有字段，并将它们渲染出来。</p>


<h2 class="relative group">五、解读 Formily 的 Schema 形式 
    <div id="%E4%BA%94%E8%A7%A3%E8%AF%BB-formily-%E7%9A%84-schema-%E5%BD%A2%E5%BC%8F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BA%94%E8%A7%A3%E8%AF%BB-formily-%E7%9A%84-schema-%E5%BD%A2%E5%BC%8F" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">（一）JSON Schema 规范 
    <div id="%E4%B8%80json-schema-%E8%A7%84%E8%8C%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%80json-schema-%E8%A7%84%E8%8C%83" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>JSON Schema 是一种用于描述 JSON 数据结构和验证规则的规范。在 Formily 中，JSON Schema 被广泛应用于定义表单的结构和数据校验规则。通过 JSON Schema，我们可以清晰地描述表单中每个字段的类型、格式、必填性等信息，使得表单的定义更加标准化和易于维护。例如，我们可以使用 JSON Schema 定义一个用户名必须是字符串且长度在 3 到 20 之间的规则。</p>


<h3 class="relative group">（二）Schema 关键属性 
    <div id="%E4%BA%8Cschema-%E5%85%B3%E9%94%AE%E5%B1%9E%E6%80%A7" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BA%8Cschema-%E5%85%B3%E9%94%AE%E5%B1%9E%E6%80%A7" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><code>x-component</code>：用于指定渲染该字段的 React 组件，比如<code>Input</code>、<code>Select</code>等。例如：</p>
<pre tabindex="0"><code>{

 &#34;type&#34;: &#34;string&#34;,

 &#34;x-component&#34;: &#34;Input&#34;,

 &#34;x-component-props&#34;: {

   &#34;placeholder&#34;: &#34;请输入内容&#34;

 }

}
</code></pre><p><code>x-component-props</code>：用于传递给<code>x-component</code>组件的属性。如上面示例中，通过<code>x-component-props</code>为<code>Input</code>组件设置了<code>placeholder</code>属性。</p>
<p><code>x-decorator</code>：用于指定字段的装饰器组件，通常用于显示字段的标签、提示信息等。例如：</p>
<pre tabindex="0"><code>{

 &#34;type&#34;: &#34;string&#34;,

 &#34;x-component&#34;: &#34;Input&#34;,

 &#34;x-decorator&#34;: &#34;FormItem&#34;,

 &#34;x-decorator-props&#34;: {

   &#34;label&#34;: &#34;用户名&#34;

 }

}
</code></pre><p>这里使用<code>FormItem</code>作为装饰器组件，并通过<code>x-decorator-props</code>设置了<code>label</code>属性为 “用户名”。</p>


<h3 class="relative group">（三）示例解析 
    <div id="%E4%B8%89%E7%A4%BA%E4%BE%8B%E8%A7%A3%E6%9E%90" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%89%E7%A4%BA%E4%BE%8B%E8%A7%A3%E6%9E%90" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>下面是一个包含多种组件的复杂 Schema 示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-ts" data-lang="ts"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;object&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="s2">&#34;properties&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;username&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-component&#34;</span><span class="o">:</span> <span class="s2">&#34;Input&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-decorator&#34;</span><span class="o">:</span> <span class="s2">&#34;FormItem&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-decorator-props&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="s2">&#34;label&#34;</span><span class="o">:</span> <span class="s2">&#34;用户名&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-component-props&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="s2">&#34;placeholder&#34;</span><span class="o">:</span> <span class="s2">&#34;请输入用户名&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;minLength&#34;</span><span class="o">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;maxLength&#34;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;required&#34;</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;gender&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-component&#34;</span><span class="o">:</span> <span class="s2">&#34;Select&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-decorator&#34;</span><span class="o">:</span> <span class="s2">&#34;FormItem&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-decorator-props&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="s2">&#34;label&#34;</span><span class="o">:</span> <span class="s2">&#34;性别&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-component-props&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="s2">&#34;placeholder&#34;</span><span class="o">:</span> <span class="s2">&#34;请选择性别&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;enum&#34;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;male&#34;</span><span class="p">,</span> <span class="s2">&#34;female&#34;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;enumNames&#34;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&#34;男&#34;</span><span class="p">,</span> <span class="s2">&#34;女&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="s2">&#34;birthDate&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;type&#34;</span><span class="o">:</span> <span class="s2">&#34;string&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;format&#34;</span><span class="o">:</span> <span class="s2">&#34;date&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-component&#34;</span><span class="o">:</span> <span class="s2">&#34;DatePicker&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-decorator&#34;</span><span class="o">:</span> <span class="s2">&#34;FormItem&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-decorator-props&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="s2">&#34;label&#34;</span><span class="o">:</span> <span class="s2">&#34;出生日期&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;x-component-props&#34;</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="s2">&#34;placeholder&#34;</span><span class="o">:</span> <span class="s2">&#34;请选择出生日期&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="p">},</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">     <span class="s2">&#34;required&#34;</span><span class="o">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在这个示例中，<code>username</code>字段使用<code>Input</code>组件，设置了最小长度为 3，最大长度为 20，并且是必填字段；<code>gender</code>字段使用<code>Select</code>组件，通过<code>enum</code>和<code>enumNames</code>定义了可选值和显示名称；<code>birthDate</code>字段使用<code>DatePicker</code>组件，设置了日期格式，并且也是必填字段。通过这样的 Schema 定义，我们可以清晰地描述表单的结构和各种规则。</p>


<h2 class="relative group">六、剖析 Formily 源码 
    <div id="%E5%85%AD%E5%89%96%E6%9E%90-formily-%E6%BA%90%E7%A0%81" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%AD%E5%89%96%E6%9E%90-formily-%E6%BA%90%E7%A0%81" aria-label="锚点">#</a>
    </span>        
    
</h2>


<h3 class="relative group">（一）核心模块介绍 
    <div id="%E4%B8%80%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%80%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97%E4%BB%8B%E7%BB%8D" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p>Formily 的核心模块主要包括<code>@formily/core</code>、<code>@formily/reactive</code>、<code>@formily/react</code>。<code>@formily/core</code>是整个库的核心，负责表单数据的管理、校验、状态维护等核心功能；<code>@formily/reactive</code>提供了响应式编程的能力，使得表单数据的变化能够自动触发相关的视图更新；<code>@formily/react</code>则是将 Formily 与 React 框架进行集成，提供了在 React 项目中使用 Formily 的一系列组件和工具。这些模块相互协作，共同实现了 Formily 强大的表单处理功能。</p>


<h3 class="relative group">（二）响应式原理 
    <div id="%E4%BA%8C%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BA%8C%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><code>@formily/reactive</code>模块的响应式原理基于 JavaScript 的 Proxy 和 Reflect。通过<code>observable</code>函数，我们可以将普通的 JavaScript 对象转换为可观察对象，当对象的属性发生变化时，会自动触发依赖该属性的副作用函数重新执行。例如：</p>
<pre tabindex="0"><code>import { observable, autorun } from &#39;@formily/reactive&#39;;

const data = observable({

 count: 0

});

autorun(() =&gt; {

 console.log(&#39;count的值为:&#39;, data.count);

});

data.count = 1;
</code></pre><p>在这个示例中，我们使用<code>observable</code>将<code>data</code>对象转换为可观察对象，然后使用<code>autorun</code>定义了一个副作用函数，当<code>data.count</code>的值发生变化时，<code>autorun</code>中的函数会自动重新执行，打印出最新的<code>count</code>值。<code>reaction</code>函数则可以用于更精细地控制响应式逻辑，它可以根据指定的依赖项来触发回调函数。</p>


<h3 class="relative group">（三）表单渲染流程 
    <div id="%E4%B8%89%E8%A1%A8%E5%8D%95%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%89%E8%A1%A8%E5%8D%95%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B" aria-label="锚点">#</a>
    </span>        
    
</h3>
<p><strong>创建表单实例</strong>：通过<code>createForm</code>函数创建表单实例，表单实例中包含了表单的数据、状态、字段集合等信息。</p>
<p><strong>解析 Schema</strong>：如果使用了 Schema，表单会解析 Schema，根据 Schema 中定义的字段信息创建对应的<code>Field</code>实例，每个<code>Field</code>实例对应表单中的一个字段，包含字段的名称、组件、校验规则等信息。</p>
<p><strong>渲染表单组件</strong>：在 React 组件中，通过<code>FormProvider</code>将表单实例注入到组件树中，然后在需要使用表单的地方，使用<code>Field</code>组件或其他表单相关组件进行渲染。<code>Field</code>组件会根据自身的<code>name</code>属性从表单实例中获取对应的字段数据，并渲染出相应的 UI 组件。</p>
<p><strong>数据更新与视图更新</strong>：当用户在表单中进行输入操作时，会触发表单数据的更新，表单数据的更新会通过响应式机制通知到相关的<code>Field</code>组件，<code>Field</code>组件会根据新的数据重新渲染 UI，从而实现数据与视图的同步更新。例如，当用户在<code>Input</code>组件中输入内容时，<code>Input</code>组件会将新的值传递给表单实例，表单实例更新数据后，会触发依赖该字段的<code>Field</code>组件重新渲染，显示最新的输入内容。</p>


<h2 class="relative group">七、总结与展望 
    <div id="%E4%B8%83%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%83%E6%80%BB%E7%BB%93%E4%B8%8E%E5%B1%95%E6%9C%9B" aria-label="锚点">#</a>
    </span>        
    
</h2>
<p>Formily 在 React 表单开发中展现出了强大的功能和优势，它通过简洁的 API、灵活的 Schema 定义和高效的响应式机制，大大简化了表单开发的过程，提高了开发效率和表单的性能。无论是处理简单的表单还是复杂的中台表单场景，Formily 都能成为开发者的得力助手。</p>
<p>在未来，随着前端技术的不断发展和业务需求的日益复杂，相信 Formily 会不断进化和完善，为前端开发者带来更多优秀的功能和更好的开发体验。希望本文能帮助你深入了解 Formily，并在实际项目中充分发挥它的作用。</p>

          
          
          
        </div>
        
        

        
        

          
      </div>
     
      
      
        
        
          
          
        
      <script>
        var oid = "views_posts\/formily\/index2.md"
        var oid_likes = "likes_posts\/formily\/index2.md"
      </script>
      
      
      <script type="text/javascript" src="/js/page.min.14302085a200decaf2fd2053e42ee1069b4a65b57e5c88f86deb11a0de54abd5cd02a7ce515d25261d86c95d5fb2e4881d86ac8a1123bd444aa4d66eabcd827d.js" integrity="sha512-FDAghaIA3sry/SBT5C7hBptKZbV&#43;XIj4besRoN5Uq9XNAqfOUV0lJh2GyV1fsuSIHYasihEjvURKpNZuq82CfQ=="></script>
      
  
    </section>
  <footer class="pt-8 max-w-prose print:hidden">

    
  
    
    
    
    <div class="pt-8">
      <hr class="border-dotted border-neutral-300 dark:border-neutral-600" />
      <div class="flex justify-between pt-3">
        <span>
          
            <a class="flex group mr-3" href="/posts/zustand/">
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >React 中使用 Zustand 状态管理库 及其源码解析</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2025-01-13T13:55:00&#43;08:00">2025-01-13</time>
                  
                </span>
              </span>
            </a>
          
        </span>
        <span>
          
            <a class="flex text-right group ml-3" href="/posts/formily/">
              <span class="flex flex-col">
                <span
                  class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500"
                  >Formily 使用及源码简介</span
                >
                <span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">
                  
                    <time datetime="2025-01-13T13:55:00&#43;08:00">2025-01-13</time>
                  
                </span>
              </span>
              <span
                class="ml-3 text-neutral-700 group-hover:text-primary-600 ltr:inline rtl:hidden dark:text-neutral dark:group-hover:text-primary-400"
                >&rarr;</span
              >
              <span
                class="mr-3 text-neutral-700 group-hover:text-primary-600 ltr:hidden rtl:inline dark:text-neutral dark:group-hover:text-primary-400"
                >&larr;</span
              >
            </a>
          
        </span>
      </div>
    </div>
  


    
  </footer>
  <div id="waline"></div>
 <script type="module">
  
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-analytics.js";
  
  

  
  
  const firebaseConfig = {
    apiKey: "AIzaSyDw86JLtP-SQbIrjHrPXmXkSo7b0OQmd4c",
    authDomain: "dx-firebase-17aba.firebaseapp.com",
    projectId: "dx-firebase-17aba",
    storageBucket: "dx-firebase-17aba.firebasestorage.app",
    messagingSenderId: "733298373600",
    appId: "1:733298373600:web:1d4af16416c27be12ef185",
    measurementId: "G-2TYX8E9FTZ"
  };

  
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</article>

      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="返回顶部" title="返回顶部">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      &copy;
      2025
      FunnilyDog‘s Site
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      由 <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a> &amp; <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500"
        href="https://blowfish.page/" target="_blank" rel="noopener noreferrer">Blowfish</a> 强力驱动
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>

  </div>
</body>

</html>
